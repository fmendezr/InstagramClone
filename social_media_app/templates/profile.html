{% extends 'base.html' %}
{% load static %}

{% block content %}
    <main class='container'>
        <div class='row'>
            <h1>{{ user.username }}</h1>
        </div>
        <div class='row'>
            <div class='col-4'>
                <img class='img-thumbnail' src='{{ profile.profile_img.url }}' width='150' height='150'/>
            </div>
            <div class='col-8 d-flex flex-column justify-content-center'>
                <div class='d-flex align-items-center justify-content-around'>
                    <div class='d-flex flex-column text-center'>
                        <strong class='profile-info'>{{ num_posts }}</strong>
                        <p class='profile-info'>Posts</p>
                    </div>
                    <div class='d-flex flex-column text-center'>
                        <strong class='profile-info'>{{ follower_count }}</strong>
                        <p class='profile-info'>Followers</p>
                    </div>
                    <div class='d-flex flex-column text-center'>
                        <strong class='profile-info'>{{ following_count }}</strong>
                        <p class='profile-info'>Following</p>
                    </div>
                </div>
                {% if current_user %}
                   <a href='{% url "settings" %}' class='d-grid'><button class="btn btn-primary" type="button">Settings</button></a>
                {% else %}
                    <form action='/follow/' method='POST' class='d-grid'>
                        {% csrf_token %}
                        <input type='hidden' value='{{ user.username }}' name='user' id='user' />
                        <button class='btn btn-primary' type='submit'>{{ button_text }}</button>
                    </form>
                {% endif %}            
            </div>
        </div>
        <div class='row mt-4'>
            <p>{{ profile.bio }}</p>
        </div>
        <div class='row row-cols-3'>
            {% for post in posts %}
                <img src='{{ post.image.url }}' width='250' height='300' />
            {% endfor %}
        </div>
    </main>
{% endblock %}